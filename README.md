# üéÖ Secret Santa Bot

Telegram –±–æ—Ç –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞—î–º–Ω–æ–≥–æ –æ–±–º—ñ–Ω—É –ø–æ–¥–∞—Ä—É–Ω–∫–∞–º–∏ (Secret Santa) —Å–µ—Ä–µ–¥ –¥—Ä—É–∑—ñ–≤, –∫–æ–ª–µ–≥ –∞–±–æ –∫–æ–º–∞–Ω–¥–∏.

## ‚ú® –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üÜï –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–≥–æ—Ä –∑ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –∫–æ–¥–∞–º–∏
- üë• –î–æ–¥–∞–≤–∞–Ω–Ω—è —É—á–∞—Å–Ω–∏–∫—ñ–≤
- üé≤ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∂–µ—Ä–µ–±–∫—É–≤–∞–Ω–Ω—è
- üì§ –ï–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ (—Ç–µ–∫—Å—Ç, CSV, —Ç–∞–±–ª–∏—Ü—è)
- üîí –ó–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä–∞
- ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö —ñ–≥–æ—Ä —á–µ—Ä–µ–∑ 30 –¥–Ω—ñ–≤
- üé® –ó—Ä—É—á–Ω—ñ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥
- üíæ –ó–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –∫–æ–¥—É –≥—Ä–∏

## üöÄ Quick Start

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–∏–π –∑–∞–ø—É—Å–∫ (Python)

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone <repository-url>
cd secret_santa_bot
```

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ:**
```bash
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
```

3. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
```bash
pip install -r requirements.txt
```

4. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –±–æ—Ç–∞:**
```bash
# –°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª
echo "BOT_TOKEN=your_bot_token_here" > .env
```

5. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:**
```bash
python -m src
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:**
```bash
git clone <repository-url>
cd secret_santa_bot
```

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª:**
```bash
echo "BOT_TOKEN=your_bot_token_here" > .env
```

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —á–µ—Ä–µ–∑ Docker Compose:**
```bash
docker-compose up -d
```

4. **–ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏:**
```bash
docker-compose logs -f
```

**–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç –ø—Ä–∞—Ü—é—î! üéâ

## üìã –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `/start` | –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é –∑ –∫–Ω–æ–ø–∫–∞–º–∏ |
| `/new` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –≥—Ä—É |
| `/join CODE –Ü–ú'–Ø` | –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –≥—Ä–∏ |
| `/list CODE` | –°–ø–∏—Å–æ–∫ —É—á–∞—Å–Ω–∏–∫—ñ–≤ |
| `/info CODE` | –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≥—Ä—É |
| `/lock CODE` | –ó–∞–∫—Ä–∏—Ç–∏ –Ω–∞–±—ñ—Ä —É—á–∞—Å–Ω–∏–∫—ñ–≤ |
| `/unlock CODE` | –í—ñ–¥–∫—Ä–∏—Ç–∏ –Ω–∞–±—ñ—Ä –∑–Ω–æ–≤—É |
| `/draw CODE` | –ü—Ä–æ–≤–µ—Å—Ç–∏ –∂–µ—Ä–µ–±–∫—É–≤–∞–Ω–Ω—è |
| `/export CODE` | –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ |
| `/purge CODE` | –í–∏–¥–∞–ª–∏—Ç–∏ –≥—Ä—É |
| `/help` | –î–æ–≤—ñ–¥–∫–∞ |

## üéØ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

1. **–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä —Å—Ç–≤–æ—Ä—é—î –≥—Ä—É:**
   - –ù–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É `üÜï –°—Ç–≤–æ—Ä–∏—Ç–∏ –≥—Ä—É` –∞–±–æ `/new`
   - –û—Ç—Ä–∏–º—É—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `SANTA42`)

2. **–£—á–∞—Å–Ω–∏–∫–∏ –ø—Ä–∏—î–¥–Ω—É—é—Ç—å—Å—è:**
   - –ù–∞—Ç–∏—Å–∫–∞—é—Ç—å `‚ûï –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—å` –∞–±–æ `/join SANTA42 –Ü–≤–∞–Ω`
   - –ú—ñ–Ω—ñ–º—É–º 3 —É—á–∞—Å–Ω–∏–∫–∏ –¥–ª—è –∂–µ—Ä–µ–±–∫—É–≤–∞–Ω–Ω—è

3. **–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä –∑–∞–∫—Ä–∏–≤–∞—î –Ω–∞–±—ñ—Ä:**
   - –ù–∞—Ç–∏—Å–∫–∞—î `üîí –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏` –∞–±–æ `/lock SANTA42`

4. **–ü—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –∂–µ—Ä–µ–±–∫—É–≤–∞–Ω–Ω—è:**
   - –ù–∞—Ç–∏—Å–∫–∞—î `üé≤ –ñ–µ—Ä–µ–±–∫—É–≤–∞–Ω–Ω—è` –∞–±–æ `/draw SANTA42`
   - –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—î –ø–∞—Ä–∏

5. **–ï–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤:**
   - –ù–∞—Ç–∏—Å–∫–∞—î `üì§ –ï–∫—Å–ø–æ—Ä—Ç` –∞–±–æ `/export SANTA42`
   - –í–∏–±–∏—Ä–∞—î —Ñ–æ—Ä–º–∞—Ç: —Ç–µ–∫—Å—Ç, CSV –∞–±–æ —Ç–∞–±–ª–∏—Ü—è

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (.env)

```env
# –û–±–æ–≤'—è–∑–∫–æ–≤—ñ
BOT_TOKEN=your_telegram_bot_token

# –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
DATABASE_URL=sqlite+aiosqlite:///./data/secret_santa.db
DEBUG=false
ENABLE_AUTO_PURGE=true
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –í—ñ–¥–ø—Ä–∞–≤—Ç–µ `/newbot`
3. –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞ username –±–æ—Ç–∞
4. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω

## üê≥ Docker –∫–æ–º–∞–Ω–¥–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞
docker-compose up -d

# –ó—É–ø–∏–Ω–∏—Ç–∏ –±–æ—Ç–∞
docker-compose down

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞
docker-compose restart

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏
docker-compose logs -f

# –û–Ω–æ–≤–∏—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
docker-compose down
docker-compose build
docker-compose up -d
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
secret_santa_bot/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ database/          # –†–æ–±–æ—Ç–∞ –∑ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ bot.py             # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ services/              # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îú‚îÄ‚îÄ utils/                 # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
‚îú‚îÄ‚îÄ data/                  # –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ requirements.txt       # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml    # Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ .env                  # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞

- ‚úÖ –ë–æ—Ç –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î –Ω–æ–º–µ—Ä–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ –∞–±–æ email
- ‚úÖ –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —ñ–º–µ–Ω–∞ —É—á–∞—Å–Ω–∏–∫—ñ–≤
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∂–µ—Ä–µ–±–∫—É–≤–∞–Ω–Ω—è –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä
- ‚úÖ –Ü–≥—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —á–µ—Ä–µ–∑ 30 –¥–Ω—ñ–≤
- ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∞—Ü—é—î –ø—ñ–¥ non-root –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º

## üìä –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –ó–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è –∫–æ–¥—É –≥—Ä–∏
–ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É, –±–æ—Ç –∑–∞–ø—Ä–æ–ø–æ–Ω—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –π–æ–≥–æ –∑–Ω–æ–≤—É:
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ SANTA42
- üìù –í–≤–µ—Å—Ç–∏ —ñ–Ω—à–∏–π –∫–æ–¥

### –ó—Ä—É—á–Ω—ñ –∫–Ω–æ–ø–∫–∏
–í—Å—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É —á–∞—Ç—É.

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
–Ü–≥—Ä–∏ —Å—Ç–∞—Ä—à—ñ 30 –¥–Ω—ñ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —â–æ–¥–Ω—è –æ –ø—ñ–≤–Ω–æ—á—ñ.

## üî® –†–æ–∑—Ä–æ–±–∫–∞

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <repository-url>
cd secret_santa_bot

# –°—Ç–≤–æ—Ä–∏—Ç–∏ venv
python -m venv venv
source venv/bin/activate

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞
python -m src
```


